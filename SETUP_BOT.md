# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram Mini App

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ

- **–ò–º—è –±–æ—Ç–∞**: @Prospase_test_bot
- **Bot Token**: `<TOKEN>` (—Ö—Ä–∞–Ω–∏—Ç–µ –≤ .env —Ñ–∞–π–ª–µ!)

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞! –•—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok

1. –°–∫–∞—á–∞–π—Ç–µ ngrok —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞: https://ngrok.com/download
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ ngrok.com –∏ –ø–æ–ª—É—á–∏—Ç–µ authtoken –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö URL

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ 2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Frontend**:
```bash
cd frontend
npm run dev
```
Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5173`

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Backend**:
```bash
cd backend
npm run start:dev
```
Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`

### –ó–∞–ø—É—Å–∫ ngrok

–û—Ç–∫—Ä–æ–π—Ç–µ 3-–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
ngrok http 5173
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Forwarding   https://xxxx-xx-xx-xxx-xxx.ngrok-free.app -> http://localhost:5173
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://xxxx-xx-xx-xxx-xxx.ngrok-free.app`)

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App –≤ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)

2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   /mybots
   ```

3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞: `@Prospase_test_bot`

4. –ù–∞–∂–º–∏—Ç–µ **"Bot Settings"**

5. –ù–∞–∂–º–∏—Ç–µ **"Menu Button"**

6. –ù–∞–∂–º–∏—Ç–µ **"Configure menu button"**

7. –û—Ç–ø—Ä–∞–≤—å—Ç–µ **URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –≤—Å—Ç–∞–≤—å—Ç–µ URL –∏–∑ ngrok (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://xxxx-xx-xx-xxx-xxx.ngrok-free.app`)
   - –î–ª—è production: –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω

8. –û—Ç–ø—Ä–∞–≤—å—Ç–µ **–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏**:
   ```
   –û—Ç–∫—Ä—ã—Ç—å TMS
   ```
   –∏–ª–∏
   ```
   –ü–µ—Ä–µ–≤–æ–∑–∫–∏
   ```

9. BotFather –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç: "Success! Menu button configured."

## –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mini App

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram: https://t.me/Prospase_test_bot

2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Menu"** (‚ò∞) –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **"–û—Ç–∫—Ä—ã—Ç—å TMS"** –∏–ª–∏ –∫–∞–∫ –≤—ã –µ—ë –Ω–∞–∑–≤–∞–ª–∏

4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–∞—à–µ Mini App!

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (/)
- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (/verify)
- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –¢—Ä–∏ –∫–Ω–æ–ø–∫–∏: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å", "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ", "–ù–∞–∑–∞–¥"
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∞—à–±–æ—Ä–¥

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3: –î–∞—à–±–æ—Ä–¥ (/dashboard)
- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–π—Å–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è 2 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–µ–π—Å–∞

## API Endpoints (—Ç–µ–∫—É—â–∏–µ –∑–∞–≥–ª—É—à–∫–∏)

- `POST /api/auth/send-code` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
  ```json
  {
    "phone": "79991234567"
  }
  ```

- `POST /api/auth/verify-code` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞
  ```json
  {
    "phone": "79991234567",
    "code": "1234"
  }
  ```

- `GET /api/shipments` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–µ–π—Å–æ–≤

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–ø—É—Å–∫ Frontend
```bash
cd frontend
npm run dev
```

### –ó–∞–ø—É—Å–∫ Backend
```bash
cd backend
npm run start:dev
```

### –ó–∞–ø—É—Å–∫ –æ–±–æ–∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
```bash
npm run dev
```

### –ë–∏–ª–¥ –¥–ª—è production

**Frontend**:
```bash
cd frontend
npm run build
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ `frontend/dist/`

**Backend**:
```bash
cd backend
npm run build
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ `backend/dist/`

## –î–µ–ø–ª–æ–π –Ω–∞ production

### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel (–¥–ª—è Frontend) + Railway (–¥–ª—è Backend)

**Frontend –Ω–∞ Vercel**:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://vercel.com
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –£–∫–∞–∂–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: `frontend`
4. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Vite

**Backend –Ω–∞ Railway**:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://railway.app
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub
3. –£–∫–∞–∂–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: `backend`
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Nest.js

### –í–∞—Ä–∏–∞–Ω—Ç 2: VPS (DigitalOcean, AWS, etc.)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –∫–∞–∫ reverse proxy
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2 –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –ü–æ–ª—É—á–∏—Ç–µ production URL –≤–∞—à–µ–≥–æ frontend
2. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
3. –û–±–Ω–æ–≤–∏—Ç–µ URL Mini App –Ω–∞ production URL
4. –ì–æ—Ç–æ–≤–æ!

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Mini App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ngrok –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5173
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ BotFather - –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Telegram (Settings ‚Üí Data and Storage ‚Üí Clear Cache)

### –ü—Ä–æ–±–ª–µ–º–∞: API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ `backend/src/main.ts`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `frontend/vite.config.js`

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram SDK –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ —á–µ—Ä–µ–∑ Telegram, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω–µ Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram Web –∏–ª–∏ Desktop

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Mini Apps Documentation](https://core.telegram.org/bots/webapps)
- [BotFather Commands](https://core.telegram.org/bots#botfather)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Vite Documentation](https://vitejs.dev/)
- [Nest.js Documentation](https://docs.nestjs.com/)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Mini App –≤ BotFather
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. üîÑ –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ API –≤–º–µ—Å—Ç–æ –∑–∞–≥–ª—É—à–µ–∫
4. üîÑ –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ Telegram
5. üîÑ –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
6. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É SMS –∫–æ–¥–æ–≤
7. üîÑ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–π—Å–∞–º–∏

**Last Updated**: 29-10-2025

---

**–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏**:
- Repository: https://github.com/timamikh/tms_bot
- Bot: @Prospase_test_bot

